# 计算机网络复习



## 计算机网络和因特网

### 协议层次和服务模型

物理层、链路层、网络层、运输层、应用层

- **应用层**，是网络应用程序及她们的应用层协议存留的地方。如 HTTP SMTP FTP 运输的分组为 **报文(message)**
- **运输层**，在应用程序端点之间传送应用层报文。**报文段（segment)** TCP 和 UDP
- **网络层**，负责将**数据报（datagram)** 的网络层分组从一台主机移动到另一台主机。网络层包括著名协议 IP协议，该协议定义了在数据报中的各个字段以及端系统和路由器如何作用于这些字段。
- **链路层**，将分组从一个结点移动到路径上的下一个结点，网络层必须依靠该链路层的服务，特别是在每个结点，网络层将数据包下传给链路层，链路层沿着路径将数据包传递给下一个节点。在下个节点，链路层将数据包上传给网络层。链路层分组称为**帧（frame)** 包括以太网，Wifi,电缆接入网的 DOCSIS 协议。一个数据包可能被沿途不同链路上的不同链路层协议处理。
- **物理层**，将帧中的一个一个**比特**从一个节点移动到下一个结点。



## 应用层

运输服务

TCP

- 面向连接
- 可靠的数据传输

UDP

- 轻量级运输协议

应用层协议定义了在不同端系统上的应用程序进程如何相互传递报文。

应用层协议只是网络应用的一部分。

### Web 和 HTTP

#### 非持续连接和持续连接

#### HTTP 报文格式

- HTTP 请求报文
- HTTP 响应报文
- Cookie

### FTP

### 电子邮件

#### SMTP

#### 邮件访问协议

### DNS

层次结构：

- 根DNS服务器
- 顶级域（DNS）服务器
- 权威 DNS服务器

还有本地DNS服务器。

递归查询和迭代查询

### P2P应用



## 运输层

### 概述

运输层协议为运行在不同主机上的应用进程之间提供了逻辑通信。网络层提供了主机之间的逻辑通信。

IP 的服务是尽力而为服务，UDP 和 TCP 所提供的服务模型：将两个端系统间IP的交付服务拓展为运行在端系统上的两个进程之间的交付服务，将主机间交付扩展为运行在端系统上的两个进程之间的交付服务。还可以进行差错检查。

即进程到进程的数据交付和差错检查。

而 TCP 还提供了可靠数据传输（通过流量控制、序号、确认和定时器）拥塞控制。

### 多路复用和多路分解







## 网络层

## 链路层

链路层信道：广播信道和点对点通信链路。

### 概述



#### 提供的服务

- 成帧 ，将网络层的数据包经由链路传送，帧的结构由链路层协议规定。
- 链路接入，媒体访问控制 MAC 协议规定了帧在链路上传输的规则。
- 可靠交付。链路层可靠交付服务通常用于易于产生高差错率的链路。
- 差错检测和纠正。

### 差错检测和纠正技术

##### 奇偶校验

##### 循环冗余检测



### 多路访问链路和协议

点对点链路和广播链路。

多路访问协议：

- 信道划分协议
- 随机接入协议
- 轮流协议

#### 信道划分协议

- 时分多路复用
- 频分多路复用
- 码分多址

#### 随机接入协议

- 时隙 ALOHA 协议
- ALOHA 协议
- 载波侦听多路访问 CSMA
- CSMA/CD 

#### 交换局域网

##### 链路层寻址和 ARP

###### MAC



##### ARP

ARP 将 IP 地址解析为一个 MAC 地址，只为在同一个子网上的主机和路由器接口解析IP地址。每台主机或路由器在其内存中具有一个 ARP 表。

查询过程：如果 ARP表没有，主机向它的适配器传递一个ARP查询分组，并且指示适配器应该用MAC广播地址来发送这个分组。适配器在链路层帧中封装这个ARP 分组，用广播地址作为帧的目的地址，并将该帧传输进子网中。包含该 ARP 查询的帧能被子网上所有其他适配器接收到，并且每个适配器都把该帧中的ARP分组向上传递给 ARP 模块。这些 ARP 模块中的每个都检查它的 IP 地址是否与 ARP 分组中的目的地址相匹配。与之匹配的主机给查询主机发送回一个带有所希望映射的响应ARP分组。然后查询主机能够更新它的 ARP 表，并发送它的 IP 数据报。

注意

- 查询 ARP 报文是在广播帧中发送的，而响应 ARP 报文在一个标准帧中发送。
- ARP 是即插即用的。

ARP 跨越链路层和网络层边界。











##### 	



## 无线网络和移动网络



